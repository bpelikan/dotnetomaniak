var ImageCode = { _promoteText: "", _isOpen: !1, set_promoteText: function (n) { ImageCode._promoteText = n }, init: function () { $("#a-c").click(function () { ImageCode._isOpen ? ($("#imageCode").slideUp("normal"), $("#a-c").text("poka¿ licznik"), ImageCode._isOpen = !1) : ($("#imageCode").slideDown("normal"), $("#a-c").text("ukryj licznik"), ImageCode._isOpen = !0) }), $("#lnkUpdateCode").click(function () { ImageCode.generateUrl() }), $("#lnkResetCode").click(function () { ImageCode.reset() }), $("#txtBorderColor").ColorPicker({ onBeforeShow: function () { $(this).ColorPickerSetColor(this.value) }, onShow: function (n) { return $(n).slideDown("normal"), !1 }, onHide: function (n) { return $(n).slideUp("normal"), !1 }, onChange: function (n, t) { $("#txtBorderColor").val(t), $("#spnBorderColor").css("backgroundColor", "#" + t) }, onSubmit: function (n, t) { $("#txtBorderColor").val(t), $("#spnBorderColor").css("backgroundColor", "#" + t) } }).change(function () { $("#spnBorderColor").css("backgroundColor", "#" + $(this).val()) }), $("#txtTextBackColor").ColorPicker({ onBeforeShow: function () { $(this).ColorPickerSetColor(this.value) }, onShow: function (n) { return $(n).slideDown("normal"), !1 }, onHide: function (n) { return $(n).slideUp("normal"), !1 }, onChange: function (n, t) { $("#txtTextBackColor").val(t), $("#spnTextBackColor").css("backgroundColor", "#" + t) }, onSubmit: function (n, t) { $("#txtTextBackColor").val(t), $("#spnTextBackColor").css("backgroundColor", "#" + t) } }).change(function () { $("#spnTextBackColor").css("backgroundColor", "#" + $(this).val()) }), $("#txtTextForeColor").ColorPicker({ onBeforeShow: function () { $(this).ColorPickerSetColor(this.value) }, onShow: function (n) { return $(n).slideDown("normal"), !1 }, onHide: function (n) { return $(n).slideUp("normal"), !1 }, onChange: function (n, t) { $("#txtTextForeColor").val(t), $("#spnTextForeColor").css("backgroundColor", "#" + t) }, onSubmit: function (n, t) { $("#txtTextForeColor").val(t), $("#spnTextForeColor").css("backgroundColor", "#" + t) } }).change(function () { $("#spnTextForeColor").css("backgroundColor", "#" + $(this).val()) }), $("#txtCountBackColor").ColorPicker({ onBeforeShow: function () { $(this).ColorPickerSetColor(this.value) }, onShow: function (n) { return $(n).slideDown("normal"), !1 }, onHide: function (n) { return $(n).slideUp("normal"), !1 }, onChange: function (n, t) { $("#txtCountBackColor").val(t), $("#spnCountBackColor").css("backgroundColor", "#" + t) }, onSubmit: function (n, t) { $("#txtCountBackColor").val(t), $("#spnCountBackColor").css("backgroundColor", "#" + t) } }).change(function () { $("#spnCountBackColor").css("backgroundColor", "#" + $(this).val()) }), $("#txtCountForeColor").ColorPicker({ onBeforeShow: function () { $(this).ColorPickerSetColor(this.value) }, onShow: function (n) { return $(n).slideDown("normal"), !1 }, onHide: function (n) { return $(n).slideUp("normal"), !1 }, onChange: function (n, t) { $("#txtCountForeColor").val(t), $("#spnCountForeColor").css("backgroundColor", "#" + t) }, onSubmit: function (n, t) { $("#txtCountForeColor").val(t), $("#spnCountForeColor").css("backgroundColor", "#" + t) } }).change(function () { $("#spnCountForeColor").css("backgroundColor", "#" + $(this).val()) }), $("#txtImageCode").click(function () { $(this)[0].select() }), ImageCode.reset() }, reset: function () { $("#txtBorderColor").val($("#hidBorderColor").val()), $("#txtTextBackColor").val($("#hidTextBackColor").val()), $("#txtTextForeColor").val($("#hidTextForeColor").val()), $("#txtCountBackColor").val($("#hidCountBackColor").val()), $("#txtCountForeColor").val($("#hidCountForeColor").val()), $("#spnBorderColor").css("backgroundColor", "#" + $("#hidBorderColor").val()), $("#spnTextBackColor").css("backgroundColor", "#" + $("#hidTextBackColor").val()), $("#spnTextForeColor").css("backgroundColor", "#" + $("#hidTextForeColor").val()), $("#spnCountBackColor").css("backgroundColor", "#" + $("#hidCountBackColor").val()), $("#spnCountForeColor").css("backgroundColor", "#" + $("#hidCountForeColor").val()), ImageCode.generateUrl() }, generateUrl: function () { var t = "", i = "", r = "", u = "", f = "", n, e; $("#txtBorderColor").val() != $("#hidBorderColor").val() && (t = $("#txtBorderColor").val()), $("#txtTextBackColor").val() != $("#hidTextBackColor").val() && (i = $("#txtTextBackColor").val()), $("#txtTextForeColor").val() != $("#hidTextForeColor").val() && (r = $("#txtTextForeColor").val()), $("#txtCountBackColor").val() != $("#hidCountBackColor").val() && (u = $("#txtCountBackColor").val()), $("#txtCountForeColor").val() != $("#hidCountForeColor").val() && (f = $("#txtCountForeColor").val()), n = $("#hidImageUrl").val() + "?url=" + encodeURIComponent($("#hidOriginalUrl").val()), t.length > 0 && (n += "&borderColor=" + encodeURIComponent(t)), i.length > 0 && (n += "&textBackColor=" + encodeURIComponent(i)), r.length > 0 && (n += "&textForeColor=" + encodeURIComponent(r)), u.length > 0 && (n += "&countBackColor=" + encodeURIComponent(u)), f.length > 0 && (n += "&countForeColor=" + encodeURIComponent(f)), e = '<a rev="vote-for" href="' + $("#hidKiggUrl").val() + '"><img alt="' + ImageCode._promoteText + '" src="' + n + '" style="border:0px"/><\/a>', $("#txtImageCode").val(e), n += "&noCache=true", $("#imgPreview").attr("src", n) }, dispose: function () { $("#a-c").unbind(), $("#lnkUpdateCode").unbind(), $("#lnkResetCode").unbind(), $("#txtBorderColor").unbind(), $("#txtTextBackColor").unbind(), $("#txtTextForeColor").unbind(), $("#txtCountBackColor").unbind(), $("#txtCountForeColor").unbind(), $("#txtImageCode").unbind() } }